# Milestone v1.1: Enhanced

**Status:** ✅ SHIPPED 2026-01-22
**Phases:** 6-8
**Total Plans:** 15

## Overview

Post-v1.0 enhancement focused on annotation flexibility (freetext titles, optional tags), visualizer updates (human-readable lure list, numbered badges), and advanced UX features (undo/redo, custom styles, technique library).

## Phases

### Phase 6: Annotation Data Model

**Goal:** Freetext title and optional MITRE/Persuasion tags
**Depends on:** Phase 5
**Plans:** 5 plans

**Plans:**

- [x] 06-01: Extend Annotation type with optional title field
- [x] 06-02: Add optional MITRE ATT&CK tag to annotation
- [x] 06-03: Add optional Persuasion Principle tag to annotation
- [x] 06-04: Add title input field to AnnotationPanel (gap closure)
- [x] 06-05: Restore numbered annotation badges (gap closure)

**Details:**

Extended the Annotation data model to support flexible annotations with optional freetext titles and optional MITRE ATT&CK / Persuasion Principle tags. Added UI components for title input and tag display. Restored numbered badge functionality from Phase 3.

**Key Requirements:**
- ANN-09: Freetext title field
- ANN-10: Optional MITRE ATT&CK tag
- ANN-11: Optional Persuasion Principle tag

---

### Phase 7: Visualizer & Lure List Updates

**Goal:** Updated card display and list summary
**Depends on:** Phase 6
**Plans:** 2 plans

**Plans:**

- [x] 07-01: Verify visualizer card layout (title, tags, description)
- [x] 07-02: Update lure list to show title/description instead of UUID

**Details:**

Verified annotation card layout implementation matches ANN-12 specification (title bold on first line, tags inline on second, description below). Updated lure list sidebar to display human-readable annotation titles instead of UUIDs, with fallback to description preview.

**Key Requirements:**
- ANN-12: Visualizer card layout
- ANN-13: Lure list summary

**Verification:** `07-VERIFICATION.md` (passed: 11/11 must-haves)

---

### Phase 8: Deferred v1.0 Work

**Goal:** Advanced UX features and extensibility
**Depends on:** Phase 7
**Plans:** 8 plans

**Plans:**

- [x] 08-01: Undo/redo with keyboard shortcuts (Ctrl+Z/Cmd+Z)
- [x] 08-02: Keyboard shortcuts help modal
- [x] 08-03: Custom arrow badge styles (Classic, Square, Diamond)
- [x] 08-04: Layout templates (Balanced, Compact, Wide)
- [x] 08-05: Custom technique library data model
- [x] 08-06: Custom technique editor
- [x] 08-07: Project export includes custom techniques
- [x] 08-08: Technique library view with management

**Details:**

Implemented advanced UX features deferred from v1.0: undo/redo system with 50-step history and keyboard shortcuts, visual customization options (arrow badge styles, layout templates), and extensible technique library with custom technique creation and management.

**Key Requirements:**
- EDIT-07: Undo/redo functionality
- EDIT-08: Keyboard shortcuts
- VIS-07: Custom arrow styles
- VIS-08: Layout templates
- ANN-07: Custom techniques in library
- ANN-08: Library persistence
- VIS-09: Tags visibility toggle
- VIS-10: NIST badge toggle

**Research:** `08-DEFERRED-V1-0-WORK-RESEARCH.md` (complete)
**Verification:** `08-VERIFICATION.md` (passed: 8/8 must-haves)

---

## Milestone Summary

**Key Decisions:**

- Optional techniqueId in annotations — Enables freetext annotations without MITRE technique mapping, flexible workflow
- useReducer for undo/redo — Single update point prevents race conditions, easier to enforce 50-step history limit
- react-hotkeys-hook for shortcuts — Declarative API with form tag scoping, handles cross-platform differences (Ctrl vs Cmd)
- Modal overlay for technique library — Consistent UX pattern with other tools (settings, shortcuts)
- Orphaned technique warnings — Preserve user annotations even when custom techniques deleted, graceful fallback
- MAX_HISTORY = 50 — Prevents memory leaks while providing sufficient workflow depth for annotation sessions
- Only wrap annotations state with undo/redo — Users expect separate undo history for text editors (htmlSource)

**Issues Resolved:**

- Gap from Phase 3: Numbered annotation badges restored in visualizer cards
- Gap from Phase 3: Title input field added to annotation panel
- Lure list UX: Human-readable titles instead of UUIDs
- No undo capability: 50-step undo/redo with keyboard shortcuts
- Limited visual customization: Three arrow styles, three layout templates
- Fixed technique library only: Custom techniques with CRUD operations

**Issues Deferred:**

- MITRE ATT&CK live API integration — Static JSON sufficient for current use
- Undo/redo for htmlSource state — Users expect separate text editor undo history
- Undo/redo for layout templates — Could be added in future if requested

**Technical Debt Incurred:**

- None significant — all deferred features were implemented cleanly

---

_For current project status, see .planning/ROADMAP.md_

---

*Archived: 2026-01-22 as part of v1.1 milestone completion*
