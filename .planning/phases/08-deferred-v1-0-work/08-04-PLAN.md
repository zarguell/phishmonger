---
phase: 08-deferred-v1-0-work
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/layouts.module.css
  - src/components/visualizer/LayoutTemplateSelector.tsx
  - src/components/preview/SlideWrapper.tsx
  - src/App.tsx
autonomous: false

must_haves:
  truths:
    - "User can select from predefined layout templates (Balanced, Wide Email, Wide Annotations)"
    - "Layout templates adjust email and annotation column proportions"
    - "Selected layout applies immediately to preview"
    - "Layout preference persists in LocalStorage"
  artifacts:
    - path: "src/styles/layouts.module.css"
      provides: "Scoped CSS for layout template classes"
      min_lines: 50
    - path: "src/components/visualizer/LayoutTemplateSelector.tsx"
      provides: "UI component for selecting layout template"
      min_lines: 35
  key_links:
    - from: "src/components/preview/SlideWrapper.tsx"
      to: "src/styles/layouts.module.css"
      via: "CSS Module import applied conditionally"
      pattern: "layouts.*module"
    - from: "src/App.tsx"
      to: "localStorage"
      via: "Layout template preference saved to LocalStorage"
      pattern: "localStorage.*layout.*template"
---

<objective>
Layout template presets for quick annotation arrangement.

Purpose: Users can quickly switch between common layout proportions without manual slider adjustment.
Output: Layout template selector with Balanced, Wide Email, and Wide Annotations presets, persisted to LocalStorage.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@.planning/phases/08-deferred-v1-0-work/08-DEFERRED-V1-0-WORK-RESEARCH.md

# Only reference prior plan SUMMARYs if genuinely needed
@src/components/preview/SlideWrapper.tsx
@src/components/preview/EmailColumn.tsx
@src/components/preview/AnnotationColumn.tsx
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create layout templates CSS module</name>
  <files>src/styles/layouts.module.css</files>
  <action>
    Create src/styles/layouts.module.css with layout template classes:

    Base .slideWrapper class with:
    - Display: flex
    - Gap: 40px
    - Width: 1600px
    - Height: 900px

    Template variants:
    - .balanced: 1fr for email, 400px for annotations (default 60/40 split)
    - .wideEmail: 1.5fr for email, 300px for annotations (more email space)
    - .wideAnnotations: 1fr for email, 500px for annotations (more annotation space)

    Use CSS Grid or Flexbox for layout - do NOT use manual pixel calculations.
    Current code uses Flexbox, so extend that pattern.

    Reference RESEARCH.md lines 270-316 for layout template patterns.

    Do NOT create a "stacked" mobile variant - the app is desktop-focused per requirements.
  </action>
  <verify>test -f src/styles/layouts.module.css && grep -q "slideWrapper" src/styles/layouts.module.css && grep -q "balanced\|wideEmail\|wideAnnotations" src/styles/layouts.module.css</verify>
  <done>layouts.module.css with Balanced, Wide Email, and Wide Annotations template classes</done>
</task>

<task type="auto">
  <name>Task 2: Create LayoutTemplateSelector component</name>
  <files>src/components/visualizer/LayoutTemplateSelector.tsx</files>
  <action>
    Create src/components/visualizer/LayoutTemplateSelector.tsx:

    - Props: currentTemplate (string), onTemplateChange (function)
    - Render three template option buttons
    - Each button shows a visual representation of the layout (e.g., "Email |" vs "Email   |" vs "Email |====")
    - Highlight currently selected template
    - Clear labels: "Balanced", "Wide Email", "Wide Annotations"

    Component structure:
    - Label: "Layout Template"
    - Row of three buttons with visual layout icons
    - On click, call onTemplateChange with template name

    Position in preview mode header alongside annotation width slider and arrow style selector.
  </action>
  <verify>test -f src/components/visualizer/LayoutTemplateSelector.tsx && grep -q "LayoutTemplateSelector" src/components/visualizer/LayoutTemplateSelector.tsx</verify>
  <done>LayoutTemplateSelector with visual layout icons for each template</done>
</task>

<task type="checkpoint:human-verify">
  <what-built>Complete layout template system (CSS module + selector component + persistence)</what-built>
  <how-to-verify>
    1. Enter Preview Mode
    2. Locate "Layout Template" selector in header
    3. Click "Wide Email" - verify email column expands, annotation column shrinks
    4. Click "Wide Annotations" - verify annotation column expands, email column shrinks
    5. Click "Balanced" - verify return to default proportions
    6. Refresh page - verify selected template persists
    7. Verify layout transitions are smooth (CSS transitions on flex properties)
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues with layout proportions or selector behavior</resume-signal>
</task>

</tasks>

<verification>
1. All three layout templates apply correctly
2. Visual layout icons accurately represent each template
3. Layout changes apply immediately without page refresh
4. Template preference persists across browser refresh
5. Transitions between layouts are smooth
6. No overlap or overflow issues with any template
</verification>

<success_criteria>
- Users can quickly switch between common layout proportions
- Visual feedback clearly shows what each template does
- Layouts accommodate different content types (long emails, detailed annotations)
- Preference persists across sessions
</success_criteria>

<output>
After completion, create `.planning/phases/08-deferred-v1-0-work/08-04-SUMMARY.md`
</output>
