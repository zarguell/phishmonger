---
phase: 12-detail-carousel
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/campaign/ReadOnlyEditor.tsx
autonomous: true

must_haves:
  truths:
    - "User can view phish in read-only mode from carousel"
    - "No editing controls visible in read-only mode"
    - "Email content and annotation cards are displayed"
  artifacts:
    - path: "src/components/campaign/ReadOnlyEditor.tsx"
      provides: "Read-only viewer for campaign phishes"
      min_lines: 60
      exports: ["ReadOnlyEditor"]
  key_links:
    - from: "ReadOnlyEditor.tsx"
      to: "src/components/preview/EmailColumn.tsx"
      via: "Reuse email rendering with annotations"
      pattern: "EmailColumn"
    - from: "ReadOnlyEditor.tsx"
      to: "src/components/preview/AnnotationColumn.tsx"
      via: "Reuse annotation card rendering"
      pattern: "AnnotationColumn"
    - from: "ReadOnlyEditor.tsx"
      to: "src/types/campaign.ts"
      via: "CampaignPhish type import"
      pattern: "CampaignPhish"
---

<objective>
Create read-only editor component for viewing campaign phishes without editing capability

Purpose: Allow users to browse phish content within a campaign while preventing modifications
Output: ReadOnlyEditor component displaying email and annotations without edit controls
</object>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-detail-carousel/12-CONTEXT.md

@src/types/campaign.ts
@src/components/preview/EmailColumn.tsx
@src/components/preview/AnnotationColumn.tsx
@src/components/preview/SlideWrapper.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ReadOnlyEditor component with email and annotations display</name>
  <files>src/components/campaign/ReadOnlyEditor.tsx</files>
  <action>
Create ReadOnlyEditor component for viewing campaign phishes:

Props interface:
- phish: CampaignPhish
- onBack: () => void (return to carousel)

Layout structure (following App.tsx preview mode pattern):
- Header: "Back to Carousel" button + phish title
- Main content: SlideWrapper with EmailColumn and AnnotationColumn
- No editing controls (no LureList, no ScoringPanel, no HTMLInput)

Header styling:
- Display: flex, justifyContent: space-between, alignItems: center
- Padding: 16px 24px
- Border-bottom: 1px solid #e1e5e9
- Back button: #007bff background, white text, prominent

Main content:
- Reuse SlideWrapper, EmailColumn, AnnotationColumn from preview components
- Pass phish.htmlSource to EmailColumn
- Pass phish.annotations to AnnotationColumn
- Set showTags=true, arrowStyle='classic' (or use phish metadata if available)
- Show NIST badge if scoring data exists

Read-only restrictions (per CONTEXT.md):
- No lure mark creation/removal
- No annotation editing
- No scoring changes
- Only navigation between email content and annotation cards

Styling:
- Follow preview mode layout from App.tsx lines 368-443
- Use inline styles matching existing modal patterns
- Container: fixed width or percentage, max-height with overflow

Empty state handling:
- If no annotations: Show message in annotation column area
- If no HTML source: Show placeholder message
</action>
  <verify>
File exists, exports ReadOnlyEditor, accepts phish/onBack props, displays read-only content
</verify>
  <done>
ReadOnlyEditor displays phish email and annotations without editing controls, back button functional
</done>
</task>

</tasks>

<verification>
1. ReadOnlyEditor component accepts phish and onBack props
2. Email content displays with annotation badges (numbered)
3. Annotation cards display in right column
4. No editing controls visible (no input fields, no save buttons)
5. Back button visible and functional
6. Layout matches preview mode styling
7. Component uses existing EmailColumn and AnnotationColumn for consistency
</verification>

<success_criteria>
1. User can view phish content in read-only mode
2. All visual elements render correctly (badges, annotations)
3. Back button triggers onBack callback
4. No editing capability exposed
</success_criteria>

<output>
After completion, create `.planning/phases/12-detail-carousel/12-02-SUMMARY.md`
</output>
