---
phase: 07-visualizer-lurelist
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [src/components/LureList.tsx]
autonomous: true
must_haves:
  truths:
    - "Lure list items display annotation title instead of UUID when title exists"
    - "Lure list items display description preview when no title is set"
    - "Long text is truncated with ellipsis for display"
    - "Clicking item still scrolls to lure in preview"
    - "Visual consistency maintained with rest of UI"
  artifacts:
    - path: "src/components/LureList.tsx"
      provides: "Lure list sidebar with annotation-aware display"
      contains: "lure-list-item-content", "lure-list-btn"
  key_links:
    - from: "src/components/LureList.tsx"
      to: "annotations[lure.id].title"
      via: "annotations prop read in lure.map()"
      pattern: "annotations\\[lure\\.id\\]"
    - from: "src/components/LureList.tsx"
      to: "annotations[lure.id].explanation"
      via: "fallback text extraction"
      pattern: "annotations\\[lure\\.id\\]\\?\\.explanation"
---

<objective>
Update the lure list sidebar to show annotation title (or description preview) instead of UUID.

Purpose: ANN-13 requires the lure list to be human-readable. Currently it shows UUID + lure text, which is not informative. The lure list should show the annotation's title if present, or a preview of the description.

Output: Lure list displays annotation title or description preview
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/LureList.tsx
@src/types/annotations.ts
</context>

<tasks>

<task type="auto">
  <name>Update LureList display to show annotation title</name>
  <files>src/components/LureList.tsx</files>
  <action>
    Update the lure list item display logic (lines 77-78) to show annotation-aware text:

    1. Keep the lure number badge (lure.id.slice(0, 8)) on the left
    2. Replace the current lure-text display with:
       - If annotations[lure.id]?.title exists: show title (truncated to ~50 chars with ellipsis)
       - If no title: show annotations[lure.id]?.explanation.slice(0, 100) + '...' (description preview)
       - If no annotation at all: fall back to original lure.text

    Current code to modify:
    ```tsx
    <span className="lure-id">{lure.id.slice(0, 8)}</span>
    <span className="lure-text">"{lure.text}"</span>
    ```

    New code should read annotations[lure.id].title first, then fall back to annotations[lure.id].explanation, then lure.text.

    Keep the click handler (scrollToLure) unchanged - it must still work.
  </action>
  <verify>npm run dev, create annotation with title, verify lure list shows title not UUID</verify>
  <done>Lure list displays annotation title (if present) or description preview, truncated with ellipsis</done>
</task>

</tasks>

<verification>
- LureList.tsx reads annotations[lure.id].title for display
- Falls back to annotations[lure.id].explanation.slice(0, 100) when no title
- Falls back to lure.text when no annotation exists
- scrollToLure function still works on click
- Text is truncated with ellipsis for long content
</verification>

<success_criteria>
- Lure list shows human-readable text (title or description preview) instead of UUID
- Long text is truncated with ellipsis
- Clicking list item still scrolls to lure in preview
- Visual consistency maintained
</success_criteria>

<output>
After completion, create `.planning/phases/07-visualizer-lurelist/07-02-SUMMARY.md`
</output>
