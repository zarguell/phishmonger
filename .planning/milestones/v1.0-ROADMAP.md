# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-01-21
**Phases:** 1-5
**Total Plans:** 25

## Overview

Phish Monger delivers a client-side tool for security trainers to annotate phishing emails with technique explanations and generate visual training materials. This roadmap builds the application in five vertical slices: Editor → Annotations → Visualizer → Scoring → Data & Persistence. Each phase delivers a complete, verifiable capability that unblocks the next phase.

## Phases

### Phase 1: Editor Foundation

**Goal:** Users can compose and mark phishing email content with sanitized HTML paste
**Depends on:** None (foundation phase)
**Plans:** 7 plans

Plans:

- [x] 01-01: Initialize Vite + React + TypeScript and install Tiptap/DOMPurify
- [x] 01-02: Create Lure Mark Tiptap extension and DOMPurify paste handler
- [x] 01-03: Create Editor component integrating extensions with toolbar
- [x] 01-04: Architectural decision checkpoint (Split Editor/Viewer)
- [x] 01-05: Build mode toggle and HTML input mode
- [x] 01-06: Build live preview pane with lure marking
- [x] 01-07: Complete workflow verification

**Details:**

- Tiptap editor with custom Lure Mark extension
- DOMPurify sanitization for HTML paste
- Split Editor/Viewer architecture
- Mode toggle (HTML input ↔ Rich Text)
- Selection-based Lure marking using DOM Range API
- Three-column layout (Input, Preview, Lure List)
- Cross-element text marking with TreeWalker

---

### Phase 2: Technique Annotations

**Goal:** Users can map marked lures to phishing techniques with MITRE ATT&CK references
**Depends on:** Phase 1
**Plans:** 3 plans

Plans:

- [x] 02-01: Create static technique library JSON and annotation type definitions
- [x] 02-02: Build annotation state management and AnnotationPanel component
- [x] 02-03: Integrate annotations with LureList and add LocalStorage persistence

**Details:**

- 12 MITRE ATT&CK techniques focused on email artifacts
- 7 Cialdini persuasion principles
- Annotation state with Record<lureId, Annotation> pattern
- Expandable annotation panels per lure
- Orphaned annotation cleanup when lures deleted

---

### Phase 3: Visualizer & Export

**Goal:** Users can preview and export annotated emails with numbered annotations
**Depends on:** Phase 2
**Plans:** 8 plans

Plans:

- [x] 03-01: Install html2canvas library for DOM-to-image export
- [x] 03-02: Create slide layout components (SlideWrapper, EmailColumn, AnnotationColumn)
- [x] 03-03: Create annotation cards with collision detection
- [x] 03-04: Create arrow calculation hooks with resize debouncing
- [x] 03-05: Create export utility and ExportButton component
- [x] 03-06: Create SVG ArrowOverlay and integrate with SlideWrapper
- [x] 03-07: Integrate preview mode in App.tsx with export button
- [x] 03-08: Fix layout collapse by replacing absolute positioning with flexbox; implement numbered annotations

**Details:**

- Three-column slide layout with fixed 1600px width
- html2canvas export at 2x scale for high resolution
- Numbered badges (①, ②, ③) instead of arrows
- Scale-to-fit mode for viewport
- Adjustable width slider (400-800px)
- Flexbox layout for cards (no absolute positioning)

---

### Phase 4: NIST Phish Scale Scoring

**Goal:** Users can calculate phishing difficulty scores using NIST Phish Scale methodology
**Depends on:** Phase 3
**Plans:** 4 plans

Plans:

- [x] 04-01: Create scoring types, calculation utility, and ScoringPanel component
- [x] 04-02: Integrate ScoringPanel into App, add persistence, badge on export
- [x] 04-03: Export refinements (quality improvements, filename handling)
- [x] 04-04: Export settings (resolution, scale, metadata)

**Details:**

- NIST Phish Scale zone-based matrix (not subtraction)
- Counter widgets with prominent +/- buttons for cues
- Premise alignment slider (1-5 Likert scale)
- Circle badge (E/M/H) with color coding (Green/Yellow/Red)
- Badge toggle for export visibility

---

### Phase 5: Data & Persistence

**Goal:** Users can save, load, and export complete project data
**Depends on:** Phase 4
**Plans:** 3 plans

Plans:

- [x] 05-01: Create project metadata types, ProjectSettings component, and storage utilities
- [x] 05-02: Integrate metadata state in App and add JSON export/import utilities
- [x] 05-03: Create Export/Import UI components with dual import methods

**Details:**

- Project metadata (title, author, timestamps)
- LocalStorage persistence for all project state
- JSON export with full structure (editor, marks, annotations, scoring)
- JSON import via file upload or text paste

---

## Milestone Summary

**Key Decisions:**

- Tiptap over other editors — Mark API makes span wrapping trivial; headless allows custom UI
- DOM-based annotation over coordinate-based — Arrows track with text layout changes
- Client-side only with LocalStorage — Privacy (no data leaves browser), no infra complexity
- Split Editor/Viewer architecture — Users paste HTML, see victim view, mark lures in preview
- Numbered badges over arrows — Simpler, industry standard, better scalability
- Flexbox over absolute positioning — Simpler, more maintainable, responsive layout
- Static JSON libraries for v1 — MITRE ATT&CK API integration deferred to v2

**Issues Resolved:**

- Cross-element text marking for lures spanning multiple HTML elements
- Layout collapse with absolute positioning — resolved with flexbox gap handling
- Collision detection for annotation cards
- NIST Phish Scale formula — correct to zone-based matrix (not subtraction)

**Issues Deferred:**

- MITRE ATT&CK live API integration (v2)
- Undo/redo functionality (v2)
- Custom arrow styles (v2)
- Multiple layout templates (v2)

**Technical Debt Incurred:**

- No undo/redo in editor (users must use browser undo)
- Static technique library requires manual updates for new techniques
- No export filename customization beyond defaults

---

_For current project status, see .planning/ROADMAP.md_
