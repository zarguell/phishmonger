---
phase: 03-visualizer-export
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, package-lock.json]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "html2canvas library is installed and available for import"
    - "TypeScript types for html2canvas are available"
    - "npm install completes without errors"
  artifacts:
    - path: "package.json"
      contains: "\"html2canvas\""
    - path: "package.json"
      contains: "\"@types/html2canvas\""
    - path: "node_modules/html2canvas"
      provides: "html2canvas library"
  key_links:
    - from: "src/components/export/*"
      to: "html2canvas"
      via: "import statement"
      pattern: "import html2canvas from 'html2canvas'"
---

<objective>
Install html2canvas library for DOM-to-image export functionality.

Purpose: Enable high-resolution PNG export of annotated email slides with burned-in overlays.
Output: html2canvas package installed with TypeScript type definitions.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-visualizer-export/03-RESEARCH.md

# No prior phase SUMMARYs needed - this is a standalone dependency installation
</context>

<tasks>

<task type="auto">
  <name>Install html2canvas and TypeScript types</name>
  <files>package.json</files>
  <action>
    Install html2canvas library and its TypeScript type definitions:

    ```bash
    npm install html2canvas@^1.4.1
    npm install --save-dev @types/html2canvas
    ```

    This adds the library required for exporting the slide composition as high-resolution PNG images in Plan 05.

    Why html2canvas: Per Phase 3 Research, this is the standard library for DOM-to-canvas rendering. It handles complex CSS, text wrapping, and provides a scale option for retina-resolution exports (2x scale for 3200px wide images).

    Verification: package.json should contain both "html2canvas" in dependencies and "@types/html2canvas" in devDependencies.
  </action>
  <verify>grep -E '"html2canvas"|"@types/html2canvas"' package.json</verify>
  <done>html2canvas@^1.4.1 and @types/html2canvas are in package.json and node_modules</done>
</task>

</tasks>

<verification>
- package.json contains html2canvas dependency
- package.json contains @types/html2canvas devDependency
- `npm list html2canvas` shows installed version
- TypeScript can import html2canvas without errors
</verification>

<success_criteria>
- html2canvas library installed and importable
- TypeScript type definitions available
- No npm install errors
- Ready for use in Plan 05 (Export Integration)
</success_criteria>

<output>
After completion, create `.planning/phases/03-visualizer-export/03-01-SUMMARY.md`
</output>
