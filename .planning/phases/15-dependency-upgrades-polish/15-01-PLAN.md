---
phase: 15-dependency-upgrades-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - package-lock.json
autonomous: true

must_haves:
  truths:
    - "@types/uuid upgraded to v11.0.0 with no runtime behavior changes"
    - "@types/html2canvas removed from devDependencies (html2canvas has built-in types)"
    - "@vitejs/plugin-react upgraded to v5.1.2 with build pipeline working"
    - "Development server starts without errors"
    - "Production build completes successfully"
  artifacts:
    - path: "package.json"
      provides: "Dependency version declarations"
      contains: '"@types/uuid": "^11.0.0"'
    - path: "package.json"
      provides: "Dependency version declarations"
      excludes: "@types/html2canvas"
    - path: "package.json"
      provides: "Dependency version declarations"
      contains: '"@vitejs/plugin-react": "^5.1.2"'
  key_links:
    - from: "package.json"
      to: "html2canvas v1.4.1+ types"
      via: "native TypeScript types (no @types package needed)"
      pattern: "html2canvas.*1\\.4"
---

<objective>
Upgrade low-risk type and build tooling dependencies with zero application code changes.

Purpose: These upgrades have isolated impact (types packages) or affect only build tooling (plugin-react), minimizing risk while completing the upgrade checklist.
Output: Clean dependency list with deprecated packages removed and build tooling modernized.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/15-dependency-upgrades-polish/15-RESEARCH.md
@.planning/phases/15-dependency-upgrades-polish/15-CONTEXT.md
@.planning/PROJECT.md
@.planning/ROADMAP.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Upgrade @types/uuid to v11.0.0</name>
  <files>package.json</files>
  <action>
    1. Run: npm install --save-dev @types/uuid@^11.0.0
    2. Verify package.json shows "@types/uuid": "^11.0.0"
    3. Verify package-lock.json updated correctly

    Note: This is a dev-only types package with zero runtime impact. The uuid runtime package (currently v13.0.0) remains unchanged.
  </action>
  <verify>grep -E '"@types/uuid".*"11\.0\.0"' package.json && npm list @types/uuid | grep 11.0.0</verify>
  <done>@types/uuid is at v11.0.0 with no type errors</done>
</task>

<task type="auto">
  <name>Remove deprecated @types/html2canvas package</name>
  <files>package.json</files>
  <action>
    1. Run: npm uninstall @types/html2canvas
    2. Verify @types/html2canvas no longer appears in package.json devDependencies
    3. Verify html2canvas@^1.4.1 is still in dependencies (it has built-in types since v1.4.1)

    Rationale: @types/html2canvas is a deprecated stub that conflicts with html2canvas's native TypeScript types. Removing improves type safety.
  </action>
  <verify>! grep -q '@types/html2canvas' package.json && npm list html2canvas | grep 1.4</verify>
  <done>@types/html2canvas removed, using native html2canvas types</done>
</task>

<task type="auto">
  <name>Upgrade @vitejs/plugin-react to v5.1.2</name>
  <files>package.json</files>
  <action>
    1. Run: npm install --save-dev @vitejs/plugin-react@^5.1.2
    2. Verify package.json shows "@vitejs/plugin-react": "^5.1.2"
    3. Note: Vite is already at v7.0.0, which satisfies the v6.x peer dependency for plugin-react v5

    No vite.config.ts changes needed - plugin-react v5 is backward compatible with existing configuration.
  </action>
  <verify>grep -E '"@vitejs/plugin-react".*"5\.1\.2"' package.json && npm list @vitejs/plugin-react | grep 5.1.2</verify>
  <done>@vitejs/plugin-react at v5.1.2</done>
</task>

<task type="auto">
  <name>Verify build pipeline after type/plugin upgrades</name>
  <files>vite.config.ts</files>
  <action>
    1. Clean install to ensure no cached artifacts: rm -rf node_modules package-lock.json && npm install
    2. Start dev server: npm run dev (allow 10 seconds for startup, then kill with Ctrl+C)
    3. Build production bundle: npm run build
    4. Check for any build errors or warnings

    Expected: Dev server starts without errors, production build completes successfully.
  </action>
  <verify>npm run build && echo "Build successful"</verify>
  <done>Dev server starts and production build completes with no errors</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. package.json contains "@types/uuid": "^11.0.0"
2. package.json does NOT contain @types/html2canvas
3. package.json contains "@vitejs/plugin-react": "^5.1.2"
4. `npm run dev` starts without errors
5. `npm run build` completes successfully
6. No console errors or deprecation warnings
</verification>

<success_criteria>
- Low-risk type and build dependencies upgraded
- Deprecated @types/html2canvas removed
- Build pipeline (dev + production) works without errors
- No application code changes required
</success_criteria>

<output>
After completion, create `.planning/phases/15-dependency-upgrades-polish/15-01-SUMMARY.md`
</output>
