---
phase: 16-terminology-workflow-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.tsx
  - src/utils/storage.ts
  - src/types/project.ts
  - src/components/ProjectSettings.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - Code variables consistently use "phish" terminology
    - Function names use "phish" terminology where appropriate
    - Comments refer to "phish" instead of "project"
    - localStorage key "phishmonger-project-id" is ready for migration
  artifacts:
    - path: "src/App.tsx"
      provides: "Main app with updated variable names and comments"
      contains: "currentPhish"
    - path: "src/utils/storage.ts"
      provides: "Storage utilities with updated function names"
      exports: ["loadPhishMetadata", "savePhishMetadata"]
  key_links:
    - from: "src/App.tsx"
      to: "src/utils/storage.ts"
      via: "imported storage function calls"
      pattern: "loadPhishMetadata|savePhishMetadata"
    - from: "src/utils/storage.ts"
      to: "src/components/ProjectSettings.tsx"
      via: "metadata prop using updated types"
      pattern: "PhishMetadata"
---

<objective>
Update code identifiers (variables, functions, comments) from "project" to "phish" terminology

Purpose: Align internal code terminology with the new "phish" naming convention. This updates variable names, function names, and comments while keeping type names (ProjectMetadata) as internal technical names to minimize refactoring risk.

Output: Updated codebase with consistent "phish" terminology in identifiers and comments
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-terminology-&-workflow-foundation/16-RESEARCH.md

@src/App.tsx
@src/utils/storage.ts
@src/types/project.ts
@src/components/ProjectSettings.tsx
@.planning/phases/16-terminology-&-workflow-foundation/16-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename currentProject variable to currentPhish in App.tsx</name>
  <files>src/App.tsx</files>
  <action>
    Update variable names in App.tsx:
    1. Line 205: const currentProject = useMemo<Phish>(() => { → const currentPhish = useMemo<Phish>(() => {
    2. Line 206: // Get or generate project ID from localStorage → // Get or generate phish ID from localStorage
    3. Line 207-211: Update comment to refer to "phish" instead of "project"
    4. Line 699: currentProject={currentProject} → currentPhish={currentPhish}
    5. Line 707: currentProject={currentProject} → currentPhish={currentPhish}

    DO NOT change:
    - localStorage key "phishmonger-project-id" - this will be migrated in plan 16-03
    - Component prop names passed to children (child components handle their own props)
  </action>
  <verify>grep -n "currentProject" src/App.tsx | wc -l returns 0</verify>
  <done>currentProject renamed to currentPhish throughout App.tsx</done>
</task>

<task type="auto">
  <name>Task 2: Update function names in storage.ts from "project" to "phish"</name>
  <files>src/utils/storage.ts</files>
  <action>
    Rename storage functions to use "phish" terminology:
    1. Line 28: Comment "// Load project metadata from LocalStorage" → "// Load phish metadata from LocalStorage"
    2. Line 69: export const loadMetadata = (): ProjectMetadata => { → export const loadPhishMetadata = (): ProjectMetadata => {
    3. Line 83: // Default metadata for new projects → // Default metadata for new phishes
    4. Line 91: Comment "// Save project metadata to LocalStorage" → "// Save phish metadata to LocalStorage"
    5. Line 95: export const saveMetadata = (metadata: ProjectMetadata) => { → export const savePhishMetadata = (metadata: ProjectMetadata) => {

    NOTE: Keep ProjectMetadata type name unchanged - it's an internal technical type.

    IMPORTANT: For backward compatibility, keep the old function names as aliases:
    After renaming, add at end of file:
    // Backward compatibility aliases (deprecated)
    export const loadMetadata = loadPhishMetadata;
    export const saveMetadata = savePhishMetadata;

    This allows gradual migration and prevents breaking existing imports.
  </action>
  <verify>grep -n "export const loadPhishMetadata\|export const savePhishMetadata" src/utils/storage.ts | wc -l returns at least 2</verify>
  <done>Storage functions renamed to loadPhishMetadata/savePhishMetadata with backward aliases</done>
</task>

<task type="auto">
  <name>Task 3: Update App.tsx imports to use new function names</name>
  <files>src/App.tsx</files>
  <action>
    Update the import statement in App.tsx to use the new function names:
    1. Line 30: Update import statement
       FROM: import { loadAnnotations, saveAnnotations, loadScoring, saveScoring, loadMetadata, saveMetadata, exportProjectJSON, downloadProjectJSON, importProjectJSON }
       TO: import { loadAnnotations, saveAnnotations, loadScoring, saveScoring, loadPhishMetadata, savePhishMetadata, exportProjectJSON, downloadProjectJSON, importProjectJSON }

    2. Line 125: Update function call
       FROM: const [metadata, setMetadata] = useState<ProjectMetadata>(() => loadMetadata())
       TO: const [metadata, setMetadata] = useState<ProjectMetadata>(() => loadPhishMetadata())

    Also update the storage.ts export in types/index.ts if needed to export the new functions.
  </action>
  <verify>grep -n "loadMetadata\|saveMetadata" src/App.tsx | grep -v "loadPhishMetadata\|savePhishMetadata" | wc -l returns 0</verify>
  <done>App.tsx uses the new loadPhishMetadata/savePhishMetadata function names</done>
</task>

<task type="auto">
  <name>Task 4: Update comments throughout codebase to use "phish" terminology</name>
  <files>src/App.tsx, src/utils/storage.ts, src/types/project.ts</files>
  <action>
    Update code comments to refer to "phish" instead of "project":
    1. src/utils/storage.ts:
       - Line 66: "Load project metadata" → "Load phish metadata"
       - Line 83: "Default metadata for new projects" → "Default metadata for new phishes"
       - Line 92: "Save project metadata" → "Save phish metadata"
       - Line 107: "Project export/import interface" → "Phish export/import interface"
       - Line 108-110: Update comments to say "phish" instead of "project"
       - Line 112: "Custom techniques travel with the project JSON" → "Custom techniques travel with the phish JSON"
       - Line 113: "sharing projects" → "sharing phishes"
       - Line 125: "Export project data" → "Export phish data"
       - Line 127: "Project metadata" → "Phish metadata"
       - Line 134: "string representation of the project" → "string representation of the phish"
       - Line 143: "const project: ProjectJSON" → "const phish: ProjectJSON" (keep type name)
       - Line 151: "stringify(project" → "stringify(phish"
       - Line 155: "Import project data" → "Import phish data"
       - Line 159: "representation of project" → "representation of phish"

    2. src/types/project.ts:
       - Line 2: "Project metadata type definition" → "Phish metadata type definition"
       - Line 4: "Stores project identification" → "Stores phish identification"
       - Line 9: "Project metadata including" → "Phish metadata including" (in JSDoc)

    3. src/App.tsx:
       - Line 44: "Merge custom techniques from imported project" → "Merge custom techniques from imported phish"
       - Line 49: "sharing techniques across projects" → "sharing techniques across phishes"
       - Line 52: "Custom techniques from imported project JSON" → "Custom techniques from imported phish JSON"

    Focus on comments only - do not change type names or interface definitions.
  </action>
  <verify>grep -rn "project" src/App.tsx src/utils/storage.ts src/types/project.ts | grep -i "comment\|\*" | grep -i "project" | wc -l returns 0 (or only matches false positives like "projection")</verify>
  <done>All code comments use "phish" terminology consistently</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. Run TypeScript compilation: npm run build
2. Verify no type errors
3. Verify backward compatibility aliases exist in storage.ts
4. Run npm run dev and verify application loads
5. Test that metadata still loads/saves correctly
6. Check browser console for any errors
</verification>

<success_criteria>
1. Variable names use "phish" terminology (currentPhish, not currentProject)
2. Storage functions renamed with backward aliases for compatibility
3. All comments refer to "phish" instead of "project"
4. TypeScript compilation passes with no errors
5. Application runs without errors
6. Metadata loading/saving still works correctly
</success_criteria>

<output>
After completion, create `.planning/phases/16-terminology-&-workflow-foundation/16-02-SUMMARY.md`
</output>
